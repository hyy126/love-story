!function(t){function e(e){for(var a,i,l=e[0],s=e[1],u=e[2],h=0,f=[];h<l.length;h++)i=l[h],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);for(c&&c(e);f.length;)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={0:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=s;r.push([105,1]),n()}({105:function(t,e,n){"use strict";n.r(e);n(67);var a=n(66),o=n.n(a),r=(n(68),n(79),n(80),n(10),n(58),n(38),n(89),n(90),n(92),n(64),n(11),n(95),document.body.clientWidth),i=document.body.clientHeight,l=r/3,s=1.78,u=.15,c=u*l,h=Math.floor(c/s),f=Math.floor(c/5),d=.8*r/c,y=I(),p=y.ItopLeft,m=y.IbottomLeft,v=y.ImidLeft,g=C(),w=g.ItopTop,x=g.ImidTop,b=g.IbottomTop,M=E(),A=M.UleftLeft,S=M.URightLeft,L=F(),T=L.UleftTop,k=L.URightTop;function I(){var t=(l-3*c-2*f)/2;return{imgWidth:c,ItopLeft:t,IbottomLeft:t,ImidLeft:t+c+f,imgHeight:h,space:f}}function C(){var t=8*h+7*f,e=(i-t)/2;return{ItopTop:e,ImidTop:e+h+f,IbottomTop:e+t-h}}function E(){var t=(l-4*(c+f))/2;return{UleftLeft:2*l+t,URightLeft:3*l-t-c}}function F(){return{UleftTop:w,URightTop:w}}var O=document.querySelector(".page-wrapper"),P=document.querySelector(".other-wrapper"),R=document.querySelector(".heart-wrapper"),D=document.querySelector(".trag-wrapper"),Y=O.offsetWidth,N=O.offsetHeight,U="https://love-story.oss-cn-shanghai.aliyuncs.com/",j=1536,H=Y/j;n(26),n(96);function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function q(t,e,n){return e&&W(t.prototype,e),n&&W(t,n),t}var G={width:232,height:233},_=function(){function t(e){var n=e.x,a=e.y,o=e.fixed,r=e.vx,i=e.vy,l=e.life,s=e.scale,u=e.screenRate;B(this,t),this.el=document.createElement("div"),this.el.classList.add("flowers"),this.changeDirection=Math.ceil(40*Math.random()+20),this.updateCount=0,this.createRandomFlower(),this.fixed=!!o,this.life=l||null,this.rotate=Math.floor(360*Math.random()),this.scale=s||.1*Math.random()+.1,this.left=this.fixed?n:n-G.width/2,this.top=this.fixed?a:a-G.height/2,this.vx=r||(4*Math.random()+1)*(Math.random()>.7?1:-1),this.vy=i||(3*Math.random()+1)*(Math.random()>.3?1:-1),u&&(this.scale*=u,this.vx*=u,this.vy*=u),this.render(),this.status="static"}return q(t,[{key:"createRandomFlower",value:function(){var t=Math.ceil(49*Math.random()),e=Math.ceil(t/8),n=-(t%8-1)*G.width+"px",a=-(e-1)*G.height+"px";this.el.style.backgroundPosition="".concat(n," ").concat(a)}},{key:"render",value:function(){this.style={transform:"translate(".concat(this.left,"px,").concat(this.top,"px) rotate(").concat(this.rotate,"deg) scale(").concat(this.scale,")")},this.el.style.transform=this.style.transform}},{key:"update",value:function(){this.updateCount++,this.life&&this.updateCount>this.life?(this.status="die",this.el.parentNode.removeChild(this.el)):this.left+G.width<0||this.top+G.height<0||this.left>Y||this.top>N?(this.status="die",this.el.parentNode.removeChild(this.el)):(this.left+=this.vx,this.top+=this.vy)}},{key:"verticalLanding",value:function(){this.vx=0,this.vy=7}}]),t}();function z(t,e){for(var n=t[0],a=t[1],o=!1,r=0,i=e.length-1;r<e.length;i=r++){var l=e[r][0],s=e[r][1],u=e[i][0],c=e[i][1];s>a!=c>a&&n<(u-l)*(a-s)/(c-s)+l&&(o=!o)}return o}function V(t,e){return{x:e*(16*Math.pow(Math.sin(t),3)),y:-e*(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))}}n(99);function X(){var t=Array.from(arguments),e=t.shift();t.forEach((function(t){for(var n in t)e[n]=t[n]}))}function J(t,e){return Z(t)||Q(t,e)||K()}function K(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Q(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return n}}function Z(t){if(Array.isArray(t))return t}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function et(t,e,n){return e&&tt(t.prototype,e),n&&tt(t,n),t}var nt=700,at=700,ot=[(Y-nt)/2,(Y-nt)/2+nt],rt=[(N-at)/2,(N-at)/2+at],it=12*H,lt=H*Math.PI/25,st=300,ut=1,ct={heartWrapper:null,complete:function(){},heartAngleAddList:[lt],heartSizeList:[it],heartAngle:0,heartCount:0,maxHeartCount:1,flowerList:[],maxFlowerCount:st,frame:null,hideSpeed:1.2,heartPolygon:[],axis:[Y/2+200,0],nextAnimate:!1,normalFlying:!1,normalCurCount:0,normalMaxCount:20},ht=function(){function t(e){$(this,t),X(this,ct,e),this.initFlower()}return et(t,[{key:"initFlower",value:function(){for(var t=this;this.heartCount<this.maxHeartCount;)this.heartAngle>2*Math.PI&&(this.heartCount++,this.heartAngle=0),this.heartCount<this.maxHeartCount&&(this.heartAngle+=this.heartAngleAddList[this.heartCount],this.addFlower());this.fillHeartByHeart(),this.flowerList.forEach((function(e){t.heartWrapper.append(e.el)}))}},{key:"fillHeartByHeart",value:function(){for(window.heartPolygon=this.heartPolygon;this.flowerList.length<this.maxFlowerCount;)this.createPointInHeart()}},{key:"createPointInHeart",value:function(){var t=Math.random()*(ot[1]-ot[0])+ot[0],e=Math.random()*(rt[1]-rt[0])+rt[0];if(z([t,e],this.heartPolygon)){var n=new _({x:t,y:e,fixed:!0,screenRate:H});this.flowerList.push(n)}else this.createPointInHeart()}},{key:"addFlower",value:function(){var t=this.getHeartPoint(),e=t.x,n=t.y;this.heartPolygon.push([e,n]);var a=Math.ceil(100*Math.random()+150),o=new _({x:e,y:n,fixed:!0,life:a,screenRate:H});this.flowerList.push(o)}},{key:"getHeartPoint",value:function(){var t=V(this.heartAngle,this.heartSizeList[this.heartCount]),e=t.x,n=t.y;return{x:e=e+Y/2-110,y:n=n+N/2-150}}},{key:"slantAnimate",value:function(){var t=this;this.axis[0]>0&&(this.axis=[this.axis[0]-this.hideSpeed,0],this.flowerList.forEach((function(e){if("static"===e.status){var n=e.top,a=e.left,o=J(t.axis,2),r=o[0],i=(n-o[1])/(a-r);i<ut&&i>0&&(e.status="motion")}})))}},{key:"updateFlower",value:function(){var t=this;this.flowerList.forEach((function(e,n){"motion"===e.status?(e.update(),e.render()):"die"===e.status&&t.flowerList.splice(n,1)})),this.flowerList.length<20&&!this.nextAnimate&&(this.nextAnimate=!0,this.complete&&this.complete())}},{key:"verticalLanding",value:function(){this.flowerList.forEach((function(t){"motion"===t.status&&(t.verticalLanding(),t.render())}))}},{key:"normalFly",value:function(){if(this.normalCurCount++>this.normalMaxCount){this.normalCurCount=0,this.normalMaxCount=Math.floor(30*Math.random()+30),this.createPointInHeart();var t=this.flowerList.length-1;this.heartWrapper.append(this.flowerList[t].el),this.flowerList[t].status="motion"}}},{key:"render",value:function(){this.slantAnimate(),this.updateFlower(),this.normalFlying&&this.normalFly(),this.frame=window.requestAnimationFrame(this.render.bind(this))}}]),t}(),ft={PEDDING:"PEDDING",HEARTFLY:"HEARTFLY",SVGFLOWERFLY:"SVGFLOWERFLY",STORYAUTO:"STORYAUTO",STORYMANUAL:"STORYMANUAL",ANIMATEEND:"ANIMATEEND"},dt={status:ft.PEDDING,storyMoving:!1,scale:1,transformX:0,transformY:0};function yt(t,e){dt[t]=e}function pt(t,e,n){n&&yt("scale",n),(t||0===t)&&yt("transformX",t),(e||0===t)&&yt("transformY",e),D.style.transform="matrix(".concat(dt.scale,", 0, 0, ").concat(dt.scale,",").concat(dt.transformX,", ").concat(dt.transformY,")")}var mt=n(40);function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function wt(t,e,n){return e&&gt(t.prototype,e),n&&gt(t,n),t}var xt={elWrapper:null,intervalCount:10,curInterval:0,animateIndex:0,storyData:[],flowerList:[],complete:function(){}},bt=function(){function t(e){vt(this,t),X(this,xt,e),this.render()}return wt(t,[{key:"createFlower",value:function(t){for(var e=t.x,n=t.y,a=Math.ceil(3*Math.random()+3),o=0;o<a;o++){var r=(.1*Math.random()+.05)*(Math.random()>.5?1:-1),i=(.1*Math.random()+.05)*(Math.random()>.5?1:-1),l=.003*Math.random()+.003,s=Math.ceil(100*Math.random()+50),u=new _({x:e,y:n,vx:r,vy:i,life:s,scale:l});u.status="motion",this.elWrapper.appendChild(u.el),this.flowerList.push(u)}}},{key:"updateFlower",value:function(){var t=this;this.flowerList.forEach((function(e,n){"motion"===e.status?(e.update(),e.render()):"die"===e.status&&t.flowerList.splice(n,1)}))}},{key:"render",value:function(){this.updateFlower(),window.requestAnimationFrame(this.render.bind(this))}},{key:"getTwoPointByEl",value:function(t,e){var n={},a={};if(t){var o=t.boundingPoint;n=this.getPointInfo(t,o)}if(e){var r=e.boundingPoint;a=this.getPointInfo(e,r)}return{from:n,to:a}}},{key:"getPointInfo",value:function(t,e){return{xs:t.left+t.width/2,ys:t.top+t.height/2,x:e.left+e.width/2-Y/2,y:e.top+e.height/2-N/2}}},{key:"animateStack",value:function(t,e,n){var a=this;this.animateIndex=t||this.animateIndex;var o=this.animateIndex;o+1<this.storyData.length&&!n?this.createAnime(this.storyData[o],this.storyData[o+1],e,n):o>0&&n?this.createAnime(this.storyData[o],this.storyData[o-1],e,n):setTimeout((function(){a.toBig(a.animateIndex,a.complete)}),3e3)}},{key:"toSingleImmediately",value:function(t){this.animateIndex=t||0;var e=this.animateIndex;if(e<this.storyData.length){var n=this.getTwoPointByEl(this.storyData[e]).from;yt("status",ft.STORYMANUAL),this.translateClient(-n.x,-n.y)}}},{key:"toSingle",value:function(t){dt.status===ft.ANIMATEEND&&this.scaleAndTranslateAnimate({from:{scalen:1},to:{scalen:d},change:"toSingle"})}},{key:"toBig",value:function(t,e){dt.status===ft.STORYAUTO&&this.scaleAndTranslateAnimate({from:{scalen:d},to:{scalen:1},change:"toBig",complete:e})}},{key:"scaleAndTranslateAnimate",value:function(t){var e=this,n=t.from,a=t.to,o=t.change,r=t.complete;Object(mt.a)({targets:n,scalen:{value:a.scalen,easing:"easeOutCubic"},duration:4e3,update:function(t){var n=t.animatables[0].target.scalen,a=t.progress;yt("scale",n),e.translateClient();var r=e.storyData[e.animateIndex],i=r.el.getBoundingClientRect(),l=e.getPointInfo(r,i);"toBig"===o?e.translateClient(-((0-l.x)*a/100+l.x),-((0-l.y)*a/100+l.y)):"toSingle"===o&&e.translateClient(-((l.x-0)*a/100+0),-((l.y-0)*a/100+0))},complete:function(){r&&r()}})}},{key:"createAnime",value:function(t,e,n,a){var o=this,r=this.getTwoPointByEl(t,e),i=r.from,l=r.to,s=12;yt("storyMoving",!0),Object(mt.a)({targets:i,xs:{value:l.xs,easing:"easeInCubic"},x:{value:l.x,easing:"easeInCubic"},ys:{value:l.ys,easing:"easeOutCubic"},y:{value:l.y,easing:"easeOutCubic"},duration:2e3,easing:"linear",update:function(t){var e=t.animatables[0].target,n=e.x,a=e.y,r=e.xs,i=e.ys;s++>13&&(s=0,o.createFlower({x:r,y:i})),n&&a&&o.translateClient(-n,-a)},complete:function(){yt("storyMoving",!1),a?o.animateIndex--:o.animateIndex++,dt.status===ft.STORYAUTO&&o.animateStack()},delay:n||0==n?n:3e3})}},{key:"translateClient",value:function(){dt.status!==ft.STORYAUTO&&dt.status!==ft.STORYMANUAL||pt.apply(void 0,arguments)}}]),t}(),Mt=[];function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Lt(t,e,n){return e&&St(t.prototype,e),n&&St(t,n),t}Snap.load("public/svg/clearance.svg",(function(t){this.appendChild(t.node);var e=Snap("#svgFlowerPath");e.attr({width:Y,height:N,viewBox:"0,0,1536,731"});var n=e.selectAll("path");Mt.push(n[0])}),document.getElementById("svgFlowerPath"));var Tt=function(){function t(e){At(this,t),this.time=e,this.frame=null,this.intervalCount=5,this.flowerList=[],this.curInterval=0,this.totalRenderInterval=0,this.endAnimate=!1,this.createFlowerBySvgFlyFlower(),this.render()}return Lt(t,[{key:"createFlowerBySvgFlyFlower",value:function(){var t=this,e=Mt[0],n=e.getTotalLength();Snap.animate(0,n,(function(n){if(t.curInterval++>t.intervalCount){t.curInterval=0;var a=e.getPointAtLength(n);a.x*=H,a.y*=H,t.createFlower(a)}}),this.time)}},{key:"createFlower",value:function(t){for(var e=t.x,n=t.y,a=Math.ceil(3*Math.random()+3),o=0;o<a;o++){var r=(.5*Math.random()+.2)*(Math.random()>.5?1:-1),i=(.5*Math.random()+.2)*(Math.random()>.5?1:-1),l=.05*Math.random()+.03,s=Math.ceil(100*Math.random()+50),u=new _({x:e,y:n,vx:r,vy:i,life:s,scale:l,widthRate:H});u.status="motion",P.append(u.el),this.flowerList.push(u)}}},{key:"updateFlower",value:function(){var t=this;this.flowerList.forEach((function(e,n){"motion"===e.status?(e.update(),e.render()):"die"===e.status&&t.flowerList.splice(n,1)}))}},{key:"render",value:function(){this.updateFlower(),this.frame=window.requestAnimationFrame(this.render.bind(this))}}]),t}(),kt=["人生就像一场漂流","曾经的阿狸是那么地无忧无虑,每天睡到自然醒","上云霄俯瞰大地","乘小鲸鱼遨游海底","和木头人来场不那么愉快的游戏","当然偶尔也会惹得妈妈生气","直到遇见了桃子","那心跳的感觉让阿狸念念不忘","满眼都是你","看着星空,默默地下定了决心","于是阿狸开始慢慢接触桃子,他们一起看书","一起欣赏风景","一起游玩","一起乘小鲸鱼飞翔(这次多了你)","乘着小龙","在月亮上勾勒出对你的喜欢","传说在摩天轮的最高点,会成为这个世界上最幸运的人","瞧,那边有只调皮的飞机","可惜飞机撞上了摩天轮,他们到不了最高点了,阿狸很难过","桃子:我最大的幸运,就是遇见了你","即便偶尔分隔异地,也会通过信燕来传达彼此的思念与情谊","异地的分别总是短暂的,最终阿狸和桃子生活在了一起","命运有很多波折,但我们不会彼此放弃","依然会站在幸福的最高点","漂流有时会很寂寞","有时会很痛苦","幸好有你","一路相伴"],It="color:#000",Ct=[{left:p,top:w,url:"story1"},{left:p+(c+f),top:w,url:"story2"},{left:p+2*(c+f),top:w,url:"story3"},{left:v,top:x,url:"story4",textStyle:It},{left:v,top:x+(h+f),url:"story5"},{left:v,top:x+2*(h+f),url:"story6"},{left:v,top:x+3*(h+f),url:"story7",textStyle:It},{left:v,top:x+4*(h+f),url:"story8",textStyle:"margin-top:-12%"},{left:v,top:x+5*(h+f),url:"story9"},{left:m,top:b,url:"story10",textStyle:"margin-top:0%"},{left:m+(c+f),top:b,url:"story11"},{left:m+2*(c+f),top:b,url:"story12"},{left:A,top:T,url:"story13",textStyle:It},{left:A,top:T+(h+f),url:"story14",textStyle:It},{left:A,top:T+2*(h+f),url:"story15"},{left:A,top:T+3*(h+f),url:"story16"},{left:A,top:T+4*(h+f),url:"story17",textStyle:It},{left:A,top:T+5*(h+f),url:"story18",textStyle:It},{left:S,top:k,url:"story19",textStyle:It},{left:S,top:k+(h+f),url:"story20",textStyle:It},{left:S,top:k+2*(h+f),url:"story21",textStyle:It},{left:S,top:k+3*(h+f),url:"story22",textStyle:"".concat(It,";margin-top:0%")},{left:S,top:k+4*(h+f),url:"story23"},{left:S,top:k+5*(h+f),url:"story24",textStyle:It},{left:A+.6*c,top:T+6*(h+f),url:"story25"},{left:A+1.2*c,top:T+7*(h+f),url:"story26"},{left:S-.6*c,top:k+6*(h+f),url:"story27"},{left:S-1.2*c,top:k+7*(h+f),url:"story28"}];function Et(t,e){var n=e.hide,a=e.clickhandler;pt(0,0,d);var o={};return t.forEach((function(t,e){t.width=c,t.height=h;var r=document.createElement("div");r.style.width="".concat(t.width,"px"),r.style.height="".concat(t.height,"px"),r.classList.add("story-item"),n&&(r.style.visibility="hidden"),r.style.backgroundImage="url(".concat(U).concat(t.url,".jpg"),r.style.transform="translate(".concat(t.left,"px,").concat(t.top,"px)"),r.innerHTML='<div class="desc" style=\''.concat(t.textStyle,"'>").concat(t.text,"</div>"),t.el=r,D.appendChild(r),r.addEventListener("click",(function(t){console.log("触发点击图片"),a&&a(e)})),t.boundingPoint=r.getBoundingClientRect(),o[t.url]=t})),pt(0,0,1),t}function Ft(t){t.forEach((function(t){t.el.style.visibility="visible"}))}Ct.forEach((function(t,e){t.text=kt[e]}));var Ot=0,Pt=0,Rt=function(){},Dt=null,Yt={img:Ut,video:jt};function Nt(t){var e=t.data,n=t.callback,a=t.prefix;for(var o in Ot=0,Rt=n,Dt=a,e){var r=e[o];Ot+=r.length,Yt[o](r)}}function Ut(t){t.forEach((function(t){!function(t){var e=new Image;e.onload=function(){console.log("图片加载完成"),Rt(++Pt,Ot)},e.src="".concat(Dt).concat(t)}(t)}))}function jt(t){t.forEach((function(t){!function(t){var e=document.createElement("audio");e.addEventListener("canplaythrough",(function(t){console.log("音频加载完成"),Rt(++Pt,Ot)})),e.src="".concat(Dt).concat(t),e.preload=!0}(t)}))}var Ht=arguments;Vt();var Bt=document.querySelector(".flower-wrapper"),Wt=Et(Ct,{hide:!0,clickhandler:Kt}),qt=new ht({heartWrapper:R,complete:function(){var t=new Tt(8e3);yt("status",ft.SVGFLOWERFLY),setTimeout((function(){zt(),t.endAnimate=!0}),8e3)}}),Gt=null;function _t(){Gt=new bt({storyData:Wt,elWrapper:Bt,complete:function(){yt("status",ft.ANIMATEEND),qt.normalFlying=!0}}),Wt[0].el.classList.add("opacity-change"),yt("status",ft.STORYAUTO),Gt.animateStack(0,6e3),qt.maxFlowerCount=400,qt.initFlower()}function zt(){Ft(Wt),pt(0,0,d),_t()}function Vt(){var t=document.getElementById("enterStoryBtn"),e=document.querySelector("#bars-loading"),n=document.querySelector(".loadingPage");Nt({data:{video:["love-story.mp3"],img:["flowers.png","woodbac.jpg"]},callback:function(n,a){console.log(n,a),n===a&&(e.style.display="none",t.style.display="inline-block",console.log("ready"))},prefix:U}),t.addEventListener("click",(function(t){var e;(e=document.createElement("audio")).src="".concat(U,"love-story.mp3"),e.loop=!0,n.classList.add("opacity-change-reverse"),setTimeout((function(){n.style.zIndex=1}),4e3),setTimeout((function(){e.play(),qt.render(),yt("status",ft.HEARTFLY)}),4e3)}))}function Xt(){return dt.status===ft.STORYMANUAL&&!dt.storyMoving}function Jt(){yt("status",ft.ANIMATEEND),pt(0,0,1),qt.normalFlying=!0}function Kt(t){pt(0,0,d),Gt.toSingleImmediately(t)}function Qt(){Gt.animateStack(void 0,0)}function Zt(){Gt.animateStack(void 0,0,!0)}document.addEventListener("keydown",(function(t){var e=t||window.event||Ht.callee.caller.arguments[0];e&&27==e.keyCode&&(dt.status!==ft.STORYAUTO&&dt.status!==ft.STORYMANUAL||Jt()),(e&&38==e.keyCode||e&&37==e.keyCode)&&Xt()&&Zt(),(e&&40==e.keyCode||e&&39==e.keyCode)&&Xt()&&Qt()})),window.Snap=o.a},67:function(t,e,n){}});